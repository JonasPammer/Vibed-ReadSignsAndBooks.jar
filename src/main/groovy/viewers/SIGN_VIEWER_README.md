# Minecraft Sign Viewer

A Minecraft-styled JavaFX application for viewing and filtering extracted signs from Minecraft worlds.

## Features

### Visual Design
- **Card Grid Layout**: Signs displayed as Minecraft-styled cards with wood textures
- **12 Wood Types**: Oak, Spruce, Birch, Jungle, Acacia, Dark Oak, Mangrove, Cherry, Crimson, Warped, Bamboo, Pale Oak
- **Authentic Colors**: Minecraft-accurate wood type colors
- **Dimension Badges**: Color-coded badges (Green=Overworld, Red=Nether, Purple=End)
- **Sign Block Preview**: 4 lines of text with 15-character limit per line
- **Coordinate Labels**: Original world coordinates displayed on each card

### Filtering & Search
- **Text Search**: Filter signs by content across all 4 lines
- **Dimension Filter**: Filter by Overworld, Nether, or The End
- **Coordinate Range**: Filter by X, Y, Z coordinate ranges
- **Sort Options**:
  - By Content (A-Z) - Alphabetical by first line
  - By Location (X) - Sorted by X coordinate
  - By Dimension - Grouped by dimension
  - By Y Level - Sorted by height (descending)

### Interactivity
- **Click to Expand**: Click any sign card to view full details
- **Copy TP Command**: One-click copy of `/tp @s X Y Z` command
- **Dynamic Updates**: Real-time filtering as you type
- **Status Bar**: Shows count of filtered vs total signs

### Detail View
When clicking a sign, you see:
- **Large Text Display**: All 4 lines in readable monospace font
- **Full Metadata**:
  - Exact coordinates (X, Y, Z)
  - Dimension name
  - Wood block type
- **Action Buttons**:
  - Copy Teleport Command - Copies `/tp @s X Y Z` to clipboard
  - Close - Returns to grid view

## Usage

### Running from Gradle

```bash
# From project root
./gradlew compileGroovy
java -cp "build/classes/groovy/main;build/resources/main;..." viewers.SignViewer [path/to/all_signs.csv]
```

### Running from Compiled JAR

```bash
# After building the JAR
java -cp ReadSignsAndBooks.jar viewers.SignViewer path/to/all_signs.csv
```

### Windows Batch Script

Use the provided `run-sign-viewer.bat`:

```cmd
run-sign-viewer.bat                    # Loads sample data or default CSV
run-sign-viewer.bat path\to\signs.csv  # Loads specific CSV file
```

### Loading CSV Files

The viewer supports CSV files with this format:
```
X,Y,Z,FoundWhere,SignText,Line1,Line2,Line3,Line4
```

Compatible CSV files:
- `all_signs.csv` - Clean version (formatting codes stripped)
- `all_signs_raw.csv` - Raw version (formatting codes preserved)

Both files are generated by ReadSignsAndBooks.jar during extraction.

## Default Behavior

1. **CLI Arguments**: If you provide a CSV path, it loads that file
2. **Default Location**: Checks `ReadBooks/all_signs.csv` in current directory
3. **Sample Data**: Loads 5 sample signs for demonstration if no CSV found

## CSV Format Details

### Required Columns (in order)
1. **X** - Integer X coordinate
2. **Y** - Integer Y coordinate
3. **Z** - Integer Z coordinate
4. **FoundWhere** - Source location (e.g., "minecraft:oak_sign", "DIM-1/region/...")
5. **SignText** - Full combined text (pipe-separated)
6. **Line1** - First line of sign
7. **Line2** - Second line of sign
8. **Line3** - Third line of sign
9. **Line4** - Fourth line of sign

### Auto-Extraction
- **Dimension**: Detected from `FoundWhere` field
  - Contains "nether" or "DIM-1" → Nether
  - Contains "end" or "DIM1" → The End
  - Default → Overworld
- **Wood Type**: Detected from block ID in `FoundWhere`
  - Searches for wood type keywords (oak, spruce, birch, etc.)
  - Default → Oak if not found

## Keyboard Shortcuts

- **Type to Search**: Focus is on search field by default
- **Tab**: Navigate between filter controls
- **Enter**: Apply filter changes (coordinate spinners)
- **Escape**: Close detail dialog

## Technical Details

### Dependencies
- **JavaFX 21**: UI framework
- **AtlantaFX**: Theme support (Primer Light/Dark)
- **OsThemeDetector**: System theme detection

### Performance
- **Lazy Loading**: Only visible cards rendered
- **Efficient Filtering**: In-memory filtering with immediate updates
- **Responsive Grid**: Auto-adjusts to window size

### Wood Type Colors (Minecraft-Accurate)

| Wood Type  | Hex Color | RGB Values     |
|-----------|-----------|----------------|
| Oak       | #BA8755   | 186, 135, 85   |
| Spruce    | #5A3D2D   | 90, 61, 45     |
| Birch     | #D6CB8E   | 214, 203, 142  |
| Jungle    | #AB7743   | 171, 119, 67   |
| Acacia    | #9F5429   | 159, 84, 41    |
| Dark Oak  | #3E2912   | 62, 41, 18     |
| Mangrove  | #6B3028   | 107, 48, 40    |
| Cherry    | #E4A2A6   | 228, 162, 166  |
| Crimson   | #582A32   | 88, 42, 50     |
| Warped    | #1A7475   | 26, 116, 117   |
| Bamboo    | #D4CE67   | 212, 206, 103  |
| Pale Oak  | #E8E0D0   | 232, 224, 208  |

### Dimension Colors

| Dimension  | Color      | RGB Values   |
|-----------|------------|--------------|
| Overworld | Green      | 76, 175, 80  |
| Nether    | Red        | 211, 47, 47  |
| The End   | Purple     | 156, 39, 176 |
| Unknown   | Gray       | 117, 117, 117|

## Sample Data

If no CSV is provided, the viewer loads 5 sample signs:

1. **Welcome Sign** - Overworld oak sign at spawn
2. **Nether Hub** - Nether crimson sign at portal room
3. **End City Warning** - End spruce sign near city
4. **Shop Sign** - Overworld birch sign at marketplace
5. **Farm Sign** - Overworld jungle sign at farm area

## Troubleshooting

### "No signs match the current filters"
- **Reset Filters**: Click "Reset Range" button to clear coordinate filters
- **Check Dimension**: Ensure dimension filter is set to "All"
- **Clear Search**: Empty the text search field

### CSV Loading Errors
- **Verify Format**: Ensure CSV has header row and correct column count
- **Check Encoding**: File should be UTF-8 encoded
- **Inspect First Line**: Header must be exactly: `X,Y,Z,FoundWhere,SignText,Line1,Line2,Line3,Line4`

### Signs Not Displaying
- **Check Window Size**: Resize window if cards are hidden below fold
- **Scroll Down**: Sign grid is scrollable
- **Verify CSV Data**: Open CSV in text editor to verify sign data

### Wood Type Not Detected
- **Default Fallback**: Unknown wood types default to Oak
- **Block ID Format**: FoundWhere should contain wood type keyword
- **Manual Override**: Not currently supported (hardcoded detection)

## Integration with ReadSignsAndBooks.jar

### Workflow
1. Run ReadSignsAndBooks extraction:
   ```bash
   java -jar ReadSignsAndBooks.jar -w path/to/world
   ```
2. Find output CSV files in `ReadBooks/YYYY-MM-DD/` directory
3. Launch SignViewer with CSV path:
   ```bash
   java -cp ReadSignsAndBooks.jar viewers.SignViewer ReadBooks/2025-01-01/all_signs.csv
   ```

### File Locations
- **Extraction Output**: `ReadBooks/YYYY-MM-DD/all_signs.csv`
- **Clean Version**: Minecraft formatting codes removed
- **Raw Version**: `all_signs_raw.csv` with §-codes preserved

## Future Enhancements (Potential)

- [ ] Export filtered signs to new CSV
- [ ] Show on map integration (if MapViewer loaded)
- [ ] Edit sign text and re-export
- [ ] Group signs by author/location
- [ ] Show back text for 1.20+ signs
- [ ] Import from Litematica schematics
- [ ] Bulk teleport command generation

## License

Part of ReadSignsAndBooks.jar - See main project LICENSE file.

## Author

Vibe coded with Claude 4.5 (December 2024)
